import{m as e,b as a,S as s,u as t,p as r,h as n}from"./shared-MkVjuKUg.js";import{S as o}from"./shared-array-buffer-cwdMr2mc.js";import{r as c}from"./shared-RFmxa5x4.js";var d=({initByteLength:a=1024,maxByteLength:s=8192})=>new o(e+a,{maxByteLength:e+s});const m="async";let p=class extends s{constructor(e,a,s){const o=c(),p=new BroadcastChannel(o),h=d(a),i=new Int32Array(h),g=n(h,a,!1);p.addEventListener("message",async({data:[e,a]})=>{await g({data:a}),p.postMessage([e,i.slice(0,2+i[1])])}),super(...t(e,m,a)),super.addEventListener("message",()=>s(this),{once:!0}),super.postMessage(r(h,a).concat(o))}get channel(){return m}};var h=a(p),i=Object.freeze({__proto__:null,Worker:p,default:h});export{d as S,p as W,i as a};
