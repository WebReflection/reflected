import"./with-resolvers-CHEvl4oe.js";const{notify:t,store:e}=Atomics,n=2*Int32Array.BYTES_PER_ELEMENT,r=({initByteLength:t=1024,maxByteLength:e=8192})=>new SharedArrayBuffer(n+t,{maxByteLength:n+e}),s=(r,s,a)=>{const o=new Int32Array(r);return async({data:c})=>{const y=await s.ondata(c),h=y.length,i=n+y.buffer.byteLength;r.byteLength<i&&r.grow(i),o.set(y,2),a?(e(o,1,h),e(o,0,1),t(o,0)):(o[1]=h,o[0]=1)}},a=t=>{switch(typeof t){case"symbol":case"function":return!1}return!0},o=(t,e)=>{const n={};for(const t in e){const r=e[t];a(t)&&a(r)&&(n[t]=r)}return[t,n]},c=(t,e,n)=>{const r=new URL(t,location.href);return r.searchParams.set("reflected",e),[r,{...n,type:"module"}]};export{r as S,s as h,n as m,o as p,c as u};
