import{n as e}from"./shared-array-buffer-cwdMr2mc.js";import{w as a}from"./with-resolvers-CHEvl4oe.js";let s,t;if("importScripts"in globalThis){let e;const{promise:r,resolve:i}=a(),o=new URL(location).searchParams.get("reflected");s=o,"message"===o?e=import("./message-T247lUWj.js"):"broadcast"===o?e=import("./broadcast-dI5UbHdP.js"):"service"===o&&(e=import("./service-CJJGylqK.js")),t=async a=>{const{data:s,ports:t}=await r,{default:i}=await e,o=new Event("message");return o.data=s,o.ports=t,dispatchEvent(o),i(a)},addEventListener("message",i,{once:!0})}else e?"InstallTrigger"in globalThis?(s="broadcast",t=(await import("./broadcast-BaMJJWiy.js")).default):(s="message",t=(await import("./message-DHuOQnQY.js")).default):navigator.serviceWorker?(s="service",t=(await import("./service-BHKzK2AR.js")).default):(s="fallback",t=()=>{});var r=t;export{s as channel,r as default};
