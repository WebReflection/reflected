import{w as a}from"./with-resolvers-CHEvl4oe.js";import{n as s}from"./shared-array-buffer-cwdMr2mc.js";let e,t;if("importScripts"in globalThis){let s;const{promise:r,resolve:o}=a(),i=new URL(location).searchParams.get("reflected");e=i,s="message"===i?import("./message-CN7zDUK9.js"):"broadcast"===i?import("./broadcast-CDJa5FK8.js"):"xhr"===i?import("./xhr-D5GIw2nW.js"):import("./async-DQfMQnfv.js"),t=async a=>{const{data:e,ports:t}=await r,{default:o}=await s,i=new Event("message");return i.data=e,i.ports=t,dispatchEvent(i),o(a)},addEventListener("message",o,{once:!0})}else s?"InstallTrigger"in globalThis?(e="broadcast",t=(await import("./broadcast-CBeOODjZ.js")).default):(e="message",t=(await import("./message-DadPV_V5.js")).default):navigator.serviceWorker?(e="xhr",t=(await import("./xhr-BXrFWWSN.js")).default):(e="fallback",t=()=>{});var r=t;export{e as channel,r as default};
