import{F as e,B as s,R as a,S as t,a as r,d as n,b as c,N as o,c as u,Z as l,e as i,I as p,f,T as d,g,h as w,i as m,j as y,E as h,k as b,M as v,D as M,l as A,m as B,n as E,V as F,A as U,O as j,U as x,o as D,u as I,p as N}from"./channel-CC7a8JrL.js";import{f as S,p as T}from"./with-resolvers-DgdAhYQ2.js";const k=(e,s,a)=>(e.set(s,a),a),O=e=>{I[0]=e[P++],I[1]=e[P++],I[2]=e[P++],I[3]=e[P++],I[4]=e[P++],I[5]=e[P++],I[6]=e[P++],I[7]=e[P++]},R=e=>(I[0]=e[P++],I[1]=e[P++],I[2]=e[P++],I[3]=e[P++],n.getUint32(0,!0)),L=(I,N)=>{switch(I[P++]){case D:return O(I),n.getFloat64(0,!0);case x:return I[P++];case j:{const e=k(N,P-1,{});for(let s=0,a=R(I);s<a;s++)e[L(I,N)]=L(I,N);return e}case U:{const e=k(N,P-1,[]);for(let s=0,a=R(I);s<a;s++)e.push(L(I,N));return e}case F:{const e=P-1,s=L(I,N);return k(N,e,new globalThis[s](L(I,N)))}case E:{const e=P-1,s=R(I);return k(N,e,I.slice(P,P+=s).buffer)}case A:{const e=P-1,s=R(I);return k(N,e,B.decode(I.slice(P,P+=s)))}case M:return k(N,P-1,new Date(L(I,N)));case v:{const e=k(N,P-1,new Map);for(let s=0,a=R(I);s<a;s++)e.set(L(I,N),L(I,N));return e}case b:{const e=k(N,P-1,new Set);for(let s=0,a=R(I);s<a;s++)e.add(L(I,N));return e}case h:{const e=L(I,N),s=L(I,N),a=L(I,N),t=new(globalThis[e]||Error)(s);return k(N,P-1,T(t,"stack",{value:a}))}case m:{const e=L(I,N),s=L(I,N),a=L(I,N),t=L(I,N),r=L(I,N);return k(N,P-1,new y(e,s,a,{colorSpace:t,pixelFormat:r}))}case w:{const e=L(I,N),s=L(I,N);return k(N,P-1,new RegExp(e,s))}case g:return!1;case d:return!0;case f:return NaN;case p:return 1/0;case i:return-1/0;case l:return 0;case u:return-0;case o:return null;case c:return O(I),n.getBigInt64(0,!0);case r:return O(I),n.getBigUint64(0,!0);case t:return S(L(I,N));case a:return N.get(R(I));case s:{const e=L(I,N),s=L(I,N);return k(N,P-1,new Blob([I.slice(P,P+=s)],{type:e}))}case e:{const e=P-1,s=L(I,N),a=L(I,N),t=L(I,N);return k(N,e,new File([t],s,{type:t.type,lastModified:a}))}default:return}};let P=0;const V=({byteOffset:e=0}={})=>(s,a)=>{return t=new Uint8Array(a,e,s),P=0,L(t,new Map);var t},{isArray:Z}=Array;var q=e=>(addEventListener("message",async s=>{const{data:a}=s;if(Z(a)&&a[0]===N){s.stopImmediatePropagation(),s.preventDefault();const[t,r]=a[1];postMessage([N,[t,await e.onsend(r)]])}}),e);export{V as d,q as s};
