import{b as e,S as a,h as s,u as t,p as r}from"./shared-CbIn_qB6.js";import{S as n}from"./shared-array-buffer-cwdMr2mc.js";import{b as o,r as c}from"./shared-D1EE5wug.js";var d=({initByteLength:e=1024,maxByteLength:a=8192})=>new n(o+e,{maxByteLength:o+a});const h="async";let p=class extends a{constructor(e,a,n){const p=c(),i=new BroadcastChannel(p),m=d(a),u=new Int32Array(m),f=s(m,a,!1);i.addEventListener("message",async({data:[e,a]})=>{await f({data:a}),i.postMessage([e,new Uint8Array(m,o,u[1])])}),super(...t(e,h,a)),super.addEventListener("message",()=>n(this),{once:!0}),super.postMessage(r(m,a).concat(p))}get channel(){return h}};var i=e(p),m=Object.freeze({__proto__:null,Worker:p,default:i});export{d as S,p as W,m as a};
