import{F as e,B as s,R as a,S as t,a as r,d as n,b as c,N as o,c as u,Z as l,e as i,I as p,f as d,T as f,g,h as w,i as m,E as y,j as h,M as b,D as v,k as M,l as A,m as B,V as E,A as F,O as I,U,n as j,u as x,o as D}from"./channel-DAX11UfC.js";import{d as N,I as S,p as T}from"./with-resolvers-BbzrtcFW.js";const k=(e,s,a)=>(e.set(s,a),a),O=e=>{x[0]=e[P++],x[1]=e[P++],x[2]=e[P++],x[3]=e[P++],x[4]=e[P++],x[5]=e[P++],x[6]=e[P++],x[7]=e[P++]},R=e=>(x[0]=e[P++],x[1]=e[P++],x[2]=e[P++],x[3]=e[P++],n.getUint32(0,!0)),L=(x,D)=>{switch(x[P++]){case j:return O(x),n.getFloat64(0,!0);case U:return x[P++];case I:{const e=k(D,P-1,{});for(let s=0,a=R(x);s<a;s++)e[L(x,D)]=L(x,D);return e}case F:{const e=k(D,P-1,[]);for(let s=0,a=R(x);s<a;s++)e.push(L(x,D));return e}case E:{const e=P-1,s=L(x,D);return k(D,e,new globalThis[s](L(x,D)))}case B:{const e=P-1,s=R(x);return k(D,e,x.slice(P,P+=s).buffer)}case M:{const e=P-1,s=R(x);return k(D,e,A.decode(x.slice(P,P+=s)))}case v:return k(D,P-1,new Date(L(x,D)));case b:{const e=k(D,P-1,new Map);for(let s=0,a=R(x);s<a;s++)e.set(L(x,D),L(x,D));return e}case h:{const e=k(D,P-1,new Set);for(let s=0,a=R(x);s<a;s++)e.add(L(x,D));return e}case y:{const e=L(x,D),s=L(x,D),a=L(x,D),t=new(globalThis[e]||Error)(s);return k(D,P-1,T(t,"stack",{value:a}))}case m:{const e=L(x,D),s=L(x,D),a=L(x,D),t=L(x,D),r=L(x,D);return k(D,P-1,new S(e,s,a,{colorSpace:t,pixelFormat:r}))}case w:{const e=L(x,D),s=L(x,D);return k(D,P-1,new RegExp(e,s))}case g:return!1;case f:return!0;case d:return NaN;case p:return 1/0;case i:return-1/0;case l:return 0;case u:return-0;case o:return null;case c:return O(x),n.getBigInt64(0,!0);case r:return O(x),n.getBigUint64(0,!0);case t:return N(L(x,D));case a:return D.get(R(x));case s:{const e=L(x,D),s=L(x,D);return k(D,P-1,new Blob([x.slice(P,P+=s)],{type:e}))}case e:{const e=P-1,s=L(x,D),a=L(x,D),t=L(x,D);return k(D,e,new File([t],s,{type:t.type,lastModified:a}))}default:return}};let P=0;const V=({byteOffset:e=0}={})=>(s,a)=>{return t=new Uint8Array(a,e,s),P=0,L(t,new Map);var t},{isArray:Z}=Array;var q=e=>(addEventListener("message",async s=>{const{data:a}=s;if(Z(a)&&a[0]===D){s.stopImmediatePropagation(),s.preventDefault();const[t,r]=a[1];postMessage([D,[t,await e.onsend(r)]])}}),e);export{V as d,q as s};
