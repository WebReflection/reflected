import{b as e,S as a,h as s,u as t,p as r}from"./shared-BVwQ7RKn.js";import{S as n}from"./shared-array-buffer-cwdMr2mc.js";import{b as o,r as c}from"./shared-D1EE5wug.js";var d=({initByteLength:e=1024,maxByteLength:a=8192})=>new n(o+e,{maxByteLength:o+a});const p="async";let h=class extends a{constructor(e,a,n){const h=c(),i=new BroadcastChannel(h),m=d(a),g=new Int32Array(m),u=s(m,a,!1);i.addEventListener("message",async({data:[e,a]})=>{await u({data:a}),i.postMessage([e,new Uint8Array(m,o,g[1])])}),super(...t(e,p,a)),super.addEventListener("message",()=>n(this),{once:!0}),super.postMessage(r(m,a).concat(h))}get channel(){return p}};var i=e(h),m=Object.freeze({__proto__:null,Worker:h,default:i});export{d as S,h as W,m as a};
